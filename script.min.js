function initMobileMenu(){const e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu"),o=document.querySelector(".hidden.md\\:flex"),n=document.querySelectorAll(".nav-links a, .hidden.md\\:flex a");console.log("üîß Inicializando menu mobile..."),console.log("Bot√£o encontrado:",!!e),console.log("Menu mobile encontrado:",!!t),console.log("Menu desktop encontrado:",!!o),e?(e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),console.log("üîß Bot√£o mobile clicado"),t?(t.classList.toggle("hidden"),this.classList.toggle("active")):o&&("none"!==o.style.display&&o.style.display?o.style.display="none":(o.style.display="flex",o.style.flexDirection="column",o.style.position="absolute",o.style.top="100%",o.style.left="0",o.style.right="0",o.style.background="rgba(30, 41, 59, 0.98)",o.style.padding="1rem",o.style.zIndex="9999"),this.classList.toggle("active"))})),document.addEventListener("click",(function(n){e.contains(n.target)||t?.contains(n.target)||o?.contains(n.target)||(t&&t.classList.add("hidden"),o&&(o.style.display=""),e.classList.remove("active"))})),n.forEach((n=>{n.addEventListener("click",(function(){t&&t.classList.add("hidden"),o&&(o.style.display=""),e&&e.classList.remove("active")}))})),console.log("‚úÖ Menu mobile inicializado")):console.warn("‚ö†Ô∏è Bot√£o do menu mobile n√£o encontrado")}function initSmoothScroll(){const e=window.innerWidth<=768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e&&(document.body.style.webkitOverflowScrolling="touch",document.body.style.overflowY="auto");document.querySelectorAll('a[href*="#"]').forEach((function(t){t.addEventListener("click",(function(t){const o=this.getAttribute("href");if(o.startsWith("#")){t.preventDefault();const n=o.substring(1),a=document.getElementById(n),l=e?80:100;if(a){const t=document.querySelector("header")?.offsetHeight||l,o=a.offsetTop-t;window.scrollTo({top:o,behavior:e?"auto":"smooth"})}}else if(o.includes("#")){const[e,n]=o.split("#");if("index.html"===e||""===e)return!0;if(e!==(window.location.pathname.split("/").pop()||"index.html"))return!0;{t.preventDefault();const e=document.getElementById(n);if(e){const t=document.querySelector("header")?.offsetHeight||100,o=e.offsetTop-t;window.scrollTo({top:o,behavior:"smooth"})}}}}))}));document.querySelectorAll('a[href="index.html"]:not([href*="#"]), a.logo-animate[href="#"]').forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),window.location.pathname.endsWith("index.html")||"/"===window.location.pathname?(window.scrollTo({top:0,behavior:"smooth"}),setTimeout((()=>{"function"==typeof initCalculator&&initCalculator()}),100)):window.location.href="index.html"}))})),function(){const e=window.location.hash;e&&setTimeout((()=>{const t=document.querySelector(e);if(t){const e=document.querySelector("header")?.offsetHeight||80,o=t.offsetTop-e;window.scrollTo({top:o,behavior:"smooth"})}}),100)}(),console.log("‚úÖ Navega√ß√£o suave inicializada")}function initAnimations(){!function(){const e=document.querySelector(".logo-animate");e&&(setTimeout((()=>{e.classList.add("animate-in")}),500),e.addEventListener("mouseover",(function(){this.style.transform="perspective(500px) rotateY(15deg) translateY(-3px)",this.style.textShadow="0 0 15px rgba(59, 130, 246, 0.8)"})),e.addEventListener("mouseout",(function(){this.style.transform="perspective(500px) rotateY(0) translateY(0)",this.style.textShadow=""}))),console.log("‚úÖ Anima√ß√£o da logo inicializada")}();const e=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&e.target.classList.add("is-visible")}))}),{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".animate-on-scroll").forEach((function(t){e.observe(t)}));const t=document.getElementById("animation-toggle-btn"),o=document.getElementById("tech-canvas");let n="false"!==localStorage.getItem("animationEnabled");!n&&o&&(o.style.display="none"),t&&t.addEventListener("click",(function(){this.classList.add("clicked"),setTimeout((()=>this.classList.remove("clicked")),600),n=!n,localStorage.setItem("animationEnabled",n),o&&(o.style.display=n?"block":"none")})),console.log("‚úÖ Anima√ß√µes inicializadas")}console.log("üöÄ Iniciando NexoTech..."),document.addEventListener("DOMContentLoaded",(function(){console.log("‚úÖ DOM carregado!"),initMobileMenu(),initSmoothScroll(),initAnimations(),setTimeout((()=>{initCalculator()}),100),initChart(),initHeaderScrollEffect(),window.innerWidth<=768&&initMobileCalculator(),console.log("‚úÖ Todas as funcionalidades inicializadas!")}));let resizeTimeout,calculatorData={total:0,services:[],employeeMultiplier:1,complexityMultiplier:1,employees:null,activity:null};function initCalculator(){console.log("üßÆ Inicializando calculadora...");const e=document.getElementById("calculator-form");if(!e)return void console.error("‚ö†Ô∏è Formul√°rio da calculadora n√£o encontrado");const t=document.getElementById("result-breakdown"),o=document.getElementById("result-total");if(!t||!o)return console.error("‚ö†Ô∏è Elementos de resultado n√£o encontrados"),void console.log("Elementos encontrados:",{breakdown:!!t,total:!!o});const n=e.querySelectorAll('input[type="radio"], input[type="checkbox"]');n.forEach((function(e){e.addEventListener("change",(function(){console.log("üîÑ Input alterado:",this.name,this.value,this.checked),setTimeout((()=>{try{updateCalculation()}catch(e){console.error("Erro ao atualizar c√°lculo:",e)}}),10)}))}));try{updateResultDisplay()}catch(e){console.error("Erro ao inicializar display:",e)}console.log("‚úÖ Calculadora inicializada com",n.length,"inputs")}function updateCalculation(){console.log("üßÆ Calculando..."),calculatorData.total=0,calculatorData.services=[];const e=document.querySelector('input[name="employees"]:checked');calculatorData.employeeMultiplier=e?parseFloat(e.dataset.multiplier||1):1;const t=document.querySelector('input[name="activity"]:checked');calculatorData.complexityMultiplier=t?parseFloat(t.dataset.complexity||1):1,console.log("Multiplicadores:",{employee:calculatorData.employeeMultiplier,complexity:calculatorData.complexityMultiplier});const o=document.querySelectorAll('input[name="services"]:checked');console.log("Servi√ßos selecionados:",o.length),o.forEach((function(e){const t=parseFloat(e.dataset.price||0),o=t*calculatorData.employeeMultiplier*calculatorData.complexityMultiplier;calculatorData.total+=o;const n=e.closest(".checkbox-option")?.querySelector("strong")?.textContent||e.value;calculatorData.services.push({name:e.value,label:n,basePrice:t,adjustedPrice:o}),console.log("Servi√ßo adicionado:",{name:e.value,basePrice:t,adjustedPrice:o})})),console.log("üí∞ Total calculado:",calculatorData.total),console.log("Servi√ßos no total:",calculatorData.services.length),updateResultDisplay()}function updateResultDisplay(){const e=document.getElementById("result-breakdown"),t=document.getElementById("result-total");if(!e||!t)return void console.log("‚ö†Ô∏è Elementos de resultado n√£o encontrados");if(0===calculatorData.services.length){e.innerHTML='<div class="text-center py-8"><p class="text-slate-600">Selecione as op√ß√µes acima para ver a estimativa</p></div>';const o=t.querySelector(".total-value");return void(o&&(o.textContent="R$ 0"))}let o='<div class="space-y-2">';calculatorData.services.forEach((function(e,t){const n=`R$ ${e.adjustedPrice.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})}`;o+=`\n            <div class="group flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100 hover:shadow-md transition-all duration-300 hover:scale-[1.02]">\n                <div class="flex items-center space-x-3">\n                    <div class="w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold">\n                        ${t+1}\n                    </div>\n                    <span class="font-medium text-slate-700 group-hover:text-blue-700 transition-colors">${e.label}</span>\n                </div>\n                <div class="text-right">\n                    <span class="font-bold text-lg text-blue-600">${n}</span>\n                </div>\n            </div>\n        `})),o+="</div>",e.innerHTML=o;const n=t.querySelector(".total-value");if(n){const e=`R$ ${calculatorData.total.toLocaleString("pt-BR",{minimumFractionDigits:0,maximumFractionDigits:0})}`;calculatorData.services.length;n.style.transition="all 0.3s ease",n.style.transform="scale(0.95)",n.style.opacity="0.7",setTimeout((()=>{n.textContent=e,n.style.transform="scale(1)",n.style.opacity="1"}),150)}const a=document.querySelector(".mobile-result-display");a&&calculatorData.services.length>0&&(a.style.opacity="1",a.style.transform="translateY(0)")}function sendQuote(){if(console.log("üì± Enviando or√ßamento..."),0===calculatorData.services.length)return void alert("Por favor, selecione pelo menos um servi√ßo antes de solicitar o or√ßamento.");const e=document.querySelector('input[name="employees"]:checked')?.value||"N√£o informado",t=document.querySelector('input[name="activity"]:checked')?.value||"N√£o informado";let o="Ol√°! Gostaria de solicitar um or√ßamento detalhado:\n\n";o+=`üë• Funcion√°rios: ${e}\n`,o+=`üè¢ Atividade: ${t}\n\n`,o+="üõ†Ô∏è Servi√ßos de interesse:\n",calculatorData.services.forEach((function(e){o+=`‚Ä¢ ${e.label} - R$ ${e.adjustedPrice.toLocaleString("pt-BR")}\n`})),o+=`\nüí∞ Total estimado: R$ ${calculatorData.total.toLocaleString("pt-BR")}\n\n`,o+="Aguardo contato para mais detalhes!";const n=`https://wa.me/5571999195766?text=${encodeURIComponent(o)}`;window.open(n,"_blank")}function resetCalculator(){console.log("üîÑ Resetando...");const e=document.getElementById("calculator-form");if(e&&(e.reset(),calculatorData={total:0,services:[],employeeMultiplier:1,complexityMultiplier:1,employees:null,activity:null},updateResultDisplay(),window.innerWidth<=768)){const e=document.querySelector(".mobile-result-display"),t=document.querySelector(".estimate-text"),o=document.querySelector(".mobile-breakdown"),n=document.querySelector(".mobile-total-value");e&&e.classList.remove("show"),t&&(t.textContent="Selecione as op√ß√µes acima para ver a estimativa"),o&&(o.innerHTML=""),n&&(n.textContent="R$ 0");const a=document.querySelector(".mobile-investment-estimate");if(a){const e=a.querySelector(".estimate-text");e&&(e.textContent="Selecione as op√ß√µes acima para ver a estimativa")}setTimeout((()=>{updateMobileCalculatorDisplay()}),100),console.log("üì± Calculadora mobile resetada completamente")}}function initChart(){const e=document.getElementById("challenges-chart");if(!e)return void console.log("‚ö†Ô∏è Canvas do gr√°fico n√£o encontrado");if("undefined"==typeof Chart)return console.log("‚ö†Ô∏è Chart.js n√£o est√° carregado"),void setTimeout(initChart,100);if(window.challengesChart){try{window.challengesChart.destroy()}catch(e){console.warn("‚ö†Ô∏è Erro ao destruir gr√°fico:",e)}window.challengesChart=null}const t=e.parentElement,o=window.devicePixelRatio||1,n=t.getBoundingClientRect(),a=n.width-40,l=n.height-40;e.width=a*o,e.height=l*o,e.style.width=a+"px",e.style.height=l+"px";e.getContext("2d").scale(o,o),e.style.imageRendering="auto",e.style.imageRendering="-webkit-optimize-contrast";const i={labels:["Equipamentos inadequados","Infraestrutura insuficiente","Seguran√ßa de dados","Backups ausentes","Configura√ß√µes ineficientes"],datasets:[{label:"Percentual de Impacto",data:[75,65,80,70,60],backgroundColor:["rgba(99, 102, 241, 0.8)","rgba(99, 102, 241, 0.8)","rgba(139, 92, 246, 0.8)","rgba(99, 102, 241, 0.8)","rgba(99, 102, 241, 0.8)"],borderColor:["rgba(99, 102, 241, 1)","rgba(99, 102, 241, 1)","rgba(139, 92, 246, 1)","rgba(99, 102, 241, 1)","rgba(99, 102, 241, 1)"],borderWidth:2,borderRadius:6,barThickness:window.innerWidth<=768?18:25}]},s=window.innerWidth<=768,c=(window.innerWidth>768&&window.innerWidth,window.innerWidth<=480),r={type:"bar",data:i,options:{responsive:!1,maintainAspectRatio:!1,devicePixelRatio:o,indexAxis:"y",animation:!1,hover:{animationDuration:0},responsiveAnimationDuration:0,layout:{padding:{left:s?8:15,right:s?15:25,top:15,bottom:15}},plugins:{title:{display:!1},legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.9)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(99, 102, 241, 1)",borderWidth:1,cornerRadius:8,titleFont:{size:Math.round((s?12:14)*o)/o,weight:"bold"},bodyFont:{size:Math.round((s?11:13)*o)/o}}},scales:{x:{beginAtZero:!0,max:100,ticks:{callback:function(e){return e+"%"},color:"#374151",font:{size:Math.round((c?10:s?11:13)*o)/o,weight:"600",family:"system-ui, -apple-system, sans-serif"},stepSize:25,maxTicksLimit:5},grid:{color:"rgba(156, 163, 175, 0.3)",lineWidth:1},border:{display:!1}},y:{ticks:{color:"#374151",font:{size:Math.round((c?9:s?10:12)*o)/o,weight:"600",family:"system-ui, -apple-system, sans-serif"},maxRotation:0,padding:s?6:10,callback:function(e,t){const o=this.getLabelForValue(e);return c&&o.length>16?o.substring(0,13)+"...":s&&o.length>20?o.substring(0,17)+"...":o}},grid:{display:!1},border:{display:!1}}},onClick:function(e,t){if(t.length>0){const e=t[0].index,o=document.querySelectorAll(".service-card");o.forEach((e=>e.classList.remove("active"))),o[e]&&(o[e].classList.add("active"),o[e].scrollIntoView({behavior:"smooth",block:"center"}))}}}};try{window.challengesChart=new Chart(e,r),console.log("üìä Gr√°fico alta resolu√ß√£o criado com sucesso")}catch(e){console.error("‚ùå Erro ao criar gr√°fico:",e)}}function initMobileCalculator(){if(window.innerWidth<=768){console.log("üì± Inicializando calculadora mobile..."),createMobileCalculatorElements();const e=document.getElementById("calculator-form");if(e){e.removeEventListener("change",updateMobileCalculatorDisplay),e.removeEventListener("input",updateMobileCalculatorDisplay);const t=e.querySelectorAll('input[type="radio"], input[type="checkbox"]');t.forEach((e=>{e.addEventListener("change",(()=>{console.log("üì± Input mobile alterado:",e.name,e.value),setTimeout(updateMobileCalculatorDisplay,50)}))})),console.log("‚úÖ Event listeners mobile adicionados:",t.length,"inputs")}}}function createMobileCalculatorElements(){const e=document.querySelector(".result-container");if(!e)return void console.error("‚ùå Container de resultado n√£o encontrado");if(e.querySelector(".mobile-investment-estimate"))return void console.log("üì± Elementos mobile j√° existem");e.innerHTML="";const t=document.createElement("div");t.className="mobile-investment-estimate",t.innerHTML='\n        <h3>Estimativa de Investimento</h3>\n        <p class="estimate-text">Selecione as op√ß√µes acima para ver a estimativa</p>\n    ';const o=document.createElement("div");o.className="mobile-result-display",o.innerHTML='\n        <div class="mobile-result-header">\n            <h4>Detalhamento dos Servi√ßos</h4>\n        </div>\n        <div class="mobile-breakdown"></div>\n        <div class="mobile-total">\n            <div class="mobile-total-label" id="mobile-total-label">Total Estimado:</div>\n            <div class="mobile-total-value" id="mobile-total-value">R$ 0</div>\n        </div>\n    ';const n=document.createElement("div");n.className="mobile-calculator-buttons",n.innerHTML='\n        <button type="button" class="btn-contact" onclick="sendQuote()">Solicitar Or√ßamento Detalhado</button>\n        <button type="button" class="btn-secondary" onclick="resetCalculator()">Recalcular</button>\n    ',e.appendChild(t),e.appendChild(o),e.appendChild(n),console.log("‚úÖ Elementos mobile da calculadora criados")}function updateMobileCalculatorDisplay(){if(window.innerWidth>768)return;console.log("üì± Atualizando display mobile da calculadora...");const e=document.querySelector(".mobile-result-display"),t=document.querySelector(".mobile-breakdown"),o=document.querySelector(".mobile-total-value"),n=document.querySelector(".estimate-text");if(!e||!t||!o)return void console.error("‚ùå Elementos mobile n√£o encontrados");const a=document.querySelector('input[name="employees"]:checked'),l=document.querySelector('input[name="activity"]:checked'),i=document.querySelectorAll('input[name="services"]:checked');if(console.log("üë• Funcion√°rios selecionados:",a?.value),console.log("üè¢ Atividade selecionada:",l?.value),console.log("üõ†Ô∏è Servi√ßos selecionados:",i.length),a&&l&&i.length>0){updateCalculation();const{services:l,total:i}=calculatorData;console.log("üí∞ Usando dados do desktop:",{total:i,services:l.length}),n&&(n.textContent=`Investimento estimado para ${a.value} funcion√°rios`),setTimeout((()=>{e.classList.add("show")}),100),t.innerHTML="",l.forEach((e=>{const o=document.createElement("div");o.className="mobile-breakdown-item",o.innerHTML=`\n                <span class="mobile-service-name">${e.label}</span>\n                <span class="mobile-service-price">R$ ${Math.round(e.adjustedPrice).toLocaleString("pt-BR")}</span>\n            `,t.appendChild(o)})),o.textContent=`R$ ${Math.round(i).toLocaleString("pt-BR")}`;const s=document.getElementById("mobile-total-label"),c=document.getElementById("mobile-total-value");s&&(s.style.color="#374151",s.style.fontWeight="600"),c&&(c.style.color="#059669",c.style.fontSize="1.25rem",c.style.fontWeight="bold"),console.log("‚úÖ Display mobile atualizado com total:",i)}else e.classList.remove("show"),n&&(n.textContent="Selecione as op√ß√µes acima para ver a estimativa"),console.log("üì± Display mobile resetado - faltam sele√ß√µes")}function initHeaderScrollEffect(){const e=document.querySelector("header");if(!e)return;let t=!1;function o(){window.scrollY>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),t=!1}window.addEventListener("scroll",(function(){t||(requestAnimationFrame(o),t=!0)}),{passive:!0}),o()}window.sendQuote=sendQuote,window.resetCalculator=resetCalculator,console.log("üìú Script carregado!"),window.addEventListener("resize",(()=>{window.innerWidth<=768&&initMobileCalculator()}));let lastWidth=window.innerWidth;window.addEventListener("resize",(()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout((()=>{const e=window.innerWidth;Math.abs(e-lastWidth)>50&&"function"==typeof initChart&&(console.log("üìè Redimensionamento significativo detectado, recriando gr√°fico"),lastWidth=e,initChart())}),500)}));